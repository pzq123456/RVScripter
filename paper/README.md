# 毕业设计论文稿（第一版）
> - 2024.2.20 -> 

## 参考资料
> 论文的写作思路：
> - 基础模块架构
> - 软件的发布、维护、文档、社区等
> - 创新算法的具体实现
>   - 空间分析算法
>       - 矢量数据
>       - 栅格数据
>       - 网络数据
>   - 渲染算法（可视化思路主要就是基于 canvas 的 2d）
> - （前端算法性能）算法的优化、测试
> - 算法的具体应用（搭建一个完整的系统）
1. [前端地形渲染](https://www.youtube.com/watch?v=bMTeCqNkId8): 使用 canvas 2d 动态渲染光照（阴影）效果。数据是 DEM 格式的地形数据。该功能可以作为一个算法具体介绍。
2. GeoJSON: 用于地图数据的格式，可以用于地图数据的存储和传输。GeoJSON 是一种用于表示地理空间数据的开放标准格式。它基于 JSON（JavaScript Object Notation）格式，并提供了一种简洁而有效地描述地理要素（如点、线、多边形等）及其属性的方法。以下是 GeoJSON 的一些主要特点和组成部分：
    1. **几何对象（Geometry Objects）**：GeoJSON 支持多种几何对象类型，包括点（Point）、线（LineString）、多边形（Polygon）、多点（MultiPoint）、多线（MultiLineString）和多边形集合（MultiPolygon）。
    2. **要素对象（Feature Objects）**：GeoJSON 的主要构建块是要素对象，它包含一个几何对象以及相关属性信息。每个要素对象可以包含几何对象和其他任意属性。此外，GeoJSON 还支持要素集合（FeatureCollection），它是一组要素对象的容器。
    3. **坐标参考系统（Coordinate Reference System，CRS）**：GeoJSON 支持两种 CRS 定义方式，分别是默认的 WGS84 地理坐标系（经纬度）和外部引用的 CRS。
    4. **标准兼容性**：GeoJSON 是一种开放标准，得到了广泛的支持，并且在许多 GIS 软件和平台中被广泛应用。

    GeoJSON 的简洁性、可读性以及与 Web 技术的兼容性使其成为在 Web 地图应用和地理空间数据交换中常用的格式之一。

3. WebWorkers
    针对使用 Web Workers 处理大型数组的需求，可以设计一个事件系统来管理和协调 Web Workers 的工作。下面是一个初步的设计方案：

    主线程（Main Thread）：负责将大数组分割成固定大小的小块，并将每个小块分配给不同的 Web Worker 进行处理。同时，主线程负责接收来自 Web Workers 的处理结果，并将结果合并或处理后返回给应用程序。

    Web Workers：每个 Web Worker 负责处理一个小块的数组数据。它们可以执行诸如求取平均数、执行数学计算等操作。处理完成后，Web Worker 将结果发送回主线程。

    事件系统：设计一个事件系统来管理主线程与 Web Workers 之间的通信和协调。事件系统可以包括以下功能：

    事件分发器（Event Dispatcher）：负责将任务分发给可用的 Web Workers，同时监控任务的完成情况。
    任务队列（Task Queue）：维护一个任务队列，存储待处理的任务和任务的处理结果。
    任务完成监听器（Task Completion Listener）：监听 Web Workers 完成任务的事件，并将结果添加到任务队列中。
    错误处理器（Error Handler）：处理 Web Workers 中可能出现的错误，并进行适当的处理和反馈。
    数据通信：主线程与 Web Workers 之间通过消息传递进行通信。主线程将任务分配给 Web Workers，并接收处理结果；Web Workers 接收任务并处理，然后将结果发送回主线程。

    动态调整：根据系统资源和运行时情况，可以动态调整 Web Workers 的数量和分配策略，以优化性能和资源利用率。

    这样的设计可以有效地利用多线程处理大型数组，并且通过事件系统实现了任务的分发和结果的收集，使得系统更加灵活和可扩展。同时，需要注意在设计过程中考虑到错误处理、性能优化和安全性等方面的问题。
> - 我希望在自己编写的包中编写一个用于管理 webworker 的核心模块，这个模块放在文件夹 core 中。我简单描述一下我希望使用worker来做什么。情况一：我会有一个非常巨大的数组，现在假设就是二维数组，需要处理。正常使用js来处理会阻塞主线程导致页面卡顿，我希望调用特定的webworker来处理它，譬如我会将这个大数组分割成小块再更具浏览器的性能等、用户设置等因素创建并分发处理事件。情况二：我希望动态接受worker的处理结果。比如说我现在有一个512*512的二维数组，我希望通过某种仅与空间相关的采样方式将其变为128*128的小数组，我可能会首先定义一个默认值数组128*128，这样用户就可以直接使用这个数组，然后数组会根据 workers 的运行结果动态更新，全部workers运行结束后会触发最终完成事件，在这之前会不断根据worker的运行结果来替换默认值。这种行为的主要作用是优化用户体验，譬如我希望一幅图片进行处理，那么用户看到的图片会首先出现再逐步细化。
> - 我希望使用typescript编写一个 webworker 的管理对象，我希望实现一个简单的任务队列，通过这个对象动态地管理全局所有 workers 的调用。譬如我有一个workers文件夹，里面以 worker0.ts 的方式命名若干个worker的脚本，用于实现不同的任务。对于浏览器，我希望限制同时在运行的最大worker数量，同时，为了灵活性，我希望用户可以自行编写workers的数据处理函数，这样全局的worker管理对象就可以只处理抽象的worker管理譬如开始一个worker、维护任务队列并根据当前任务的完成情况触发不同的事件。
> - https://www.cnblogs.com/rock-roll/p/10176738.html